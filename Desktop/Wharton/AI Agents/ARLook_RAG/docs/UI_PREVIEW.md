# 前端界面预览说明

## 🎨 界面布局

### 整体结构
```
┌─────────────────────────────────────────────────────────────┐
│                    全屏页面 (h-screen)                       │
├──────────────────────────────────────┬──────────────────────┤
│                                      │                      │
│       左侧地图区域 (flex-1)           │   右侧聊天栏 (380px)   │
│                                      │                      │
│    ┌──────────────────────────┐      │  ┌─────────────────┐ │
│    │                          │      │  │ 预设提示词按钮  │ │
│    │                          │      │  │ ┌───────────┐ │ │
│    │    Google Maps           │      │  │ │Wharton附近│ │ │
│    │    (全屏显示)            │      │  │ │学生公寓    │ │ │
│    │                          │      │  │ └───────────┘ │ │
│    │  ● The Axis ($1800)     │      │  │ ┌───────────┐ │ │
│    │  ● evo ($1650)          │      │  │ │带室内洗烘 │ │ │
│    │  ● Cira Green ($2200)   │      │  │ │房源       │ │ │
│    │  ● ...                   │      │  │ └───────────┘ │ │
│    │                          │      │  │ ┌───────────┐ │ │
│    │                          │      │  │ │预算$1500- │ │ │
│    │                          │      │  │ │2000       │ │ │
│    │                          │      │  │ └───────────┘ │ │
│    │                          │      │  ├─────────────────┤ │
│    │                          │      │  │                 │ │
│    │                          │      │  │   消息列表区域   │ │
│    │                          │      │  │                 │ │
│    │                          │      │  │  [用户消息右对齐]│ │
│    │                          │      │  │  [AI消息左对齐]  │ │
│    │                          │      │  │                 │ │
│    │                          │      │  │                 │ │
│    │                          │      │  ├─────────────────┤ │
│    │                          │      │  │ [输入框] [Send] │ │
│    └──────────────────────────┘      │  └─────────────────┘ │
│                                      │                      │
└──────────────────────────────────────┴──────────────────────┘
```

## 🎨 颜色方案

### 左侧地图
- **背景**: Google Maps 默认地图样式
- **标记点**: 蓝色圆圈 (#0ea5e9) 带白色边框
- **标签**: 白色文字显示价格

### 右侧聊天栏
- **背景**: 白色 (bg-white)
- **边框**: 左侧灰色边框 (border-l border-gray-200)

#### 预设提示词区域
- **背景**: 浅灰色 (bg-gray-50)
- **按钮**: 
  - 背景: 白色 (bg-white)
  - 边框: 灰色 (border-gray-300)
  - 悬停: 浅灰背景 (hover:bg-gray-50)
  - 文字: 深灰色 (text-gray-700)

#### 消息列表区域
- **用户消息**:
  - 对齐: 右对齐 (justify-end)
  - 背景: 蓝色 (bg-blue-600)
  - 文字: 白色 (text-white)
  - 最大宽度: 80%

- **AI消息**:
  - 对齐: 左对齐 (justify-start)
  - 背景: 浅灰色 (bg-gray-100)
  - 文字: 深灰色 (text-gray-800)
  - 最大宽度: 80%

- **时间戳**:
  - 用户消息: 浅蓝色 (text-blue-100)
  - AI消息: 灰色 (text-gray-500)
  - 字体大小: 12px

#### 输入区域
- **输入框**:
  - 边框: 灰色 (border-gray-300)
  - 聚焦: 蓝色边框 (focus:ring-blue-500)
  - 禁用: 浅灰背景 (disabled:bg-gray-100)

- **发送按钮**:
  - 背景: 蓝色 (bg-blue-600)
  - 悬停: 深蓝色 (hover:bg-blue-700)
  - 禁用: 灰色 (disabled:bg-gray-300)

## 📱 响应式设计

### 桌面视图 (> 768px)
- 左侧地图: flex-1 (占满剩余空间)
- 右侧聊天栏: 固定 380px 宽度
- 全屏高度: h-screen

### 移动视图 (< 768px)
- 当前未实现响应式（后续可添加）
- 建议: 垂直堆叠布局

## 🔄 交互流程

### 初始状态
1. **地图**: 
   - 中心位置: 费城大学城 (39.9526, -75.1652)
   - 缩放级别: 14
   - 显示: 所有5个房源的标记点

2. **聊天栏**:
   - 预设提示词: 3个按钮可见
   - 消息列表: 空，显示提示文字 "Start a conversation or select a preset prompt above"
   - 输入框: 空，可输入

### 点击预设提示词流程
```
点击 "Wharton附近学生公寓"
  ↓
1. 按钮视觉反馈（悬停状态）
  ↓
2. 地图更新:
   - 清除所有标记点
   - 显示3个新标记点（The Axis, evo, Cira Green）
   - 地图自动缩放显示所有标记
  ↓
3. 聊天栏更新:
   - 添加用户消息（右对齐，蓝色背景）
   - 显示加载动画（3个跳动的小点）
   - 500ms后显示AI回复（左对齐，灰色背景）
```

### 手动输入流程
```
输入 "带室内洗烘房源"
  ↓
1. 用户消息立即显示（右对齐，蓝色）
  ↓
2. 显示加载动画
  ↓
3. 800ms后:
   - 地图更新显示4个标记点
   - AI回复显示："找到了4个带室内洗烘的房源，已在地图上高亮显示"
```

### 地图标记点交互
```
点击标记点
  ↓
显示InfoWindow信息窗口:
  ┌─────────────────────┐
  │ The Axis            │
  │ 3800 Chestnut St... │
  │ $1800/mo            │
  │ 2 bed, 1 bath       │
  │ In-unit laundry...  │
  └─────────────────────┘
```

## 💫 动画效果

### Loading动画
- 3个小点依次跳动
- 延迟: 0s, 0.1s, 0.2s
- 颜色: 灰色 (#9CA3AF)

### 消息滚动
- 自动滚动到底部
- 滚动方式: smooth（平滑）

### 按钮悬停
- 背景色变化
- 边框颜色变化
- 过渡效果: transition-colors

## 🎯 UI组件细节

### 预设提示词按钮
- **尺寸**: 
  - 内边距: px-3 py-1.5
  - 字体: text-sm
  - 圆角: rounded-lg

- **状态**:
  - 正常: 白色背景，灰色边框
  - 悬停: 浅灰背景，深灰边框
  - 活动: 暂无（可添加）

### 消息气泡
- **圆角**: rounded-lg
- **内边距**: px-4 py-2
- **间距**: space-y-4（消息之间）
- **文字换行**: whitespace-pre-wrap

### 输入框
- **占位符**: "Ask about properties..."
- **支持回车发送**: 是
- **禁用状态**: 加载时禁用

## 📊 数据可视化

### 地图标记点
- **图标**: 蓝色圆形标记
- **标签**: 显示价格（如 "$1800"）
- **颜色**: 
  - 填充: #0ea5e9 (蓝色)
  - 边框: #fff (白色)
  - 边框宽度: 2px

### InfoWindow样式
- **内边距**: 8px
- **最小宽度**: 200px
- **字体大小**: 
  - 标题: 16px, bold
  - 地址: 14px, gray
  - 价格: 14px, bold
  - 设施: 12px, gray

## 🔍 用户体验细节

### 视觉反馈
- ✅ 按钮悬停效果
- ✅ 输入框聚焦效果
- ✅ 加载状态动画
- ✅ 消息时间戳显示

### 交互反馈
- ✅ 回车键发送消息
- ✅ 自动滚动到最新消息
- ✅ 地图自动调整显示所有标记
- ✅ 点击标记显示详细信息

### 状态管理
- ✅ 加载状态显示
- ✅ 输入禁用状态
- ✅ 按钮禁用状态

## 🚀 启动预览

要查看实际界面，请运行：

```bash
# 1. 安装依赖（如果尚未安装）
npm install

# 2. 创建环境变量文件 .env.local
echo "NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_api_key_here" > .env.local

# 3. 启动开发服务器
npm run dev

# 4. 在浏览器中打开
# http://localhost:3000
```

## 📸 界面截图描述

### 初始加载状态
- 左侧: 费城地图，显示5个蓝色标记点
- 右侧: 顶部3个预设提示词按钮，中间空白（提示文字），底部输入框

### 点击"Wharton附近学生公寓"后
- 左侧: 地图缩放显示3个标记点（The Axis, evo, Cira Green）
- 右侧: 用户消息"Wharton附近学生公寓"（蓝色，右对齐），AI回复"找到了3个匹配的房源"（灰色，左对齐）

### 加载状态
- 显示3个跳动的小点（灰色），表示AI正在处理

### 标记点点击
- 弹出信息窗口，显示房源详细信息（名称、地址、价格、房间数、设施）

